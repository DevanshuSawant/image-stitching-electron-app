<!DOCTYPE html>
<html>
  <head>
    <!-- <link rel="stylesheet" href="./index.css"> -->
    <link
      href="https://fonts.googleapis.com/css?family=Montserrat"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../sass/styles.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
    />
    <meta charset="UTF-8" />
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
    <title>AI Image Stitcher</title>
  </head>
  <style>
    html,
    body {
      height: 100%;
    }
    body {
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fdfdfd;
      /* background-color:  #8482a8; */
    }
    .equal-card {
      height: 100%;
    }
    .footer {
      position: fixed;
      left: 0;
      bottom: 0;
      width: 100%;
      background-color: rgb(45, 12, 88);
      color: white;
      text-align: center;
    }
    .footlink {
      color: #fdfdfd;
      text-decoration: none;
      font-weight: bolder;
      cursor: pointer;
    }
    .smtimage {
      cursor: pointer;
    }
    .popover-link {
      color: black;
      text-decoration: none;
      font-weight: bolder;
      cursor: pointer;
    }
    .popover-main {
      --bs-popover-border-color: var(--bs-primary);
      --bs-popover-header-bg: var(--bs-primary);
      --bs-popover-header-color: var(--bs-white);
      --bs-popover-body-color: rgb(45, 12, 88);
    }
  </style>
  <body>
    <div class="text-center h-75">
      <div
        class="smtimage"
        onclick="openSMTLink()"
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Go to SMT Website"
      >
        <h3 class="smtname m-4">
          <img src="./assets/smt.ico" class="smticon" alt="SMT Logo" /> Surface
          Modification Technologies Pvt. Ltd.
        </h3>
      </div>
      <div class="IMT">
        <h2><b>AI Image Stitcher</b></h2>
      </div>

      <div class="row m-4 justify-content-center">
        <div class="col-4">
          <div class="card mb-4 rounded-3 shadow-sm border-primary equal-card">
            <div class="card-header py-3 text-bg-primary border-primary">
              <h4 class="my-0 fw-normal">Automatic Image Stitcher</h4>
            </div>
            <div class="card-body">
              <p class="card-text">
                Automatically stitch images to create one continuous image by
                selecting the images to be stitched
              </p>
              <button
                onclick="openHistoryFolder()"
                id="file-open-button"
                class="w-100 btn btn-lg btn-outline-secondary"
                style="margin-bottom: 10px; color: #fdfdfd"
                data-bs-toggle="tooltip"
                data-bs-placement="left"
                title="Open Folder to show past stitched images"
              >
                Previously Stitched Images <i class="bi bi-clock-history"></i>
              </button>
              <a
                href="autostitch.html"
                class="w-100 btn btn-lg btn-primary"
                role="button"
                data-bs-toggle="tooltip"
                data-bs-placement="left"
                title="Go to Auto Image Stitcher"
              >
                Next <i class="bi bi-arrow-right-circle"></i
              ></a>
            </div>
          </div>
        </div>
        <div class="col-4">
          <div class="card mb-4 rounded-3 shadow-sm border-primary equal-card">
            <div class="card-header py-3">
              <h4 class="my-0 fw-normal" style="color: #fdfdfd">
                Manual Image Stitcher
              </h4>
            </div>
            <div class="card-body">
              <p class="card-text">
                Manually stitch images to create one continuous image by
                dragging and dropping images to align the images to be stitched
              </p>
              <a
                href="manualstitch.html"
                class="w-100 btn btn-lg btn-outline-primary"
                role="button"
                data-bs-toggle="tooltip"
                data-bs-placement="right"
                title="Go to Manual Image Stitcher"
              >
                Next <i class="bi bi-arrow-right-circle"></i
              ></a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div style="display: flex; align-items: center;" class="footer">
      <p style="margin-top: 8px; margin-bottom: 8px; margin-left: 8px; flex: 1;">
        Developed @
        <a
          class="footlink"
          target="_blank"
          onclick="openSAKECLink()"
          data-bs-toggle="tooltip"
          data-bs-placement="top"
          title="Go to Shah & Anchor Kutchhi Engineering College Website"
        ><b>Shah & Anchor Kutchhi Engineering College</b></a>
      </p>
      <p class="float-end footlink" 
        style="margin-top: 8px; margin-bottom: 8px; margin-right: 8px; flex: 0;" 
        data-bs-toggle="popover" 
        data-bs-title="Developed By:-" 
        data-bs-html="true"
        data-bs-custom-class="popover-main"
        data-bs-content='
          <a id="link1" class="popover-link"><i class="bi bi-linkedin"></i> Rummaan Ahmad</a><br>
          <a id="link2" class="popover-link"><i class="bi bi-linkedin"></i> Shreyans Chheda</a><br>
          <a id="link3" class="popover-link"><i class="bi bi-linkedin"></i> Devanshu Sawant</a><br>
        '
        data-bs-container="body"
        title="Developed By:-"
      >
        <i class="bi bi-info-circle"></i>
      </p>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      const { shell } = require("electron");

      var tooltipTriggerList = [].slice.call(
        document.querySelectorAll('[data-bs-toggle="tooltip"]')
      );
      var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl);
      });
      document.addEventListener('DOMContentLoaded', function() {
        var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'));
        var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
          return new bootstrap.Popover(popoverTriggerEl);
        });

        function handlePopoverLinkClick(linkId) {
          // Perform different actions based on the linkId
          if (linkId === 'link1') {
            shell.openExternal("https://www.linkedin.com/in/rummaanahmad/");
            console.log('Rummaan Ahmad!');
          } else if (linkId === 'link2') {
            shell.openExternal("https://www.linkedin.com/in/shreyans-chheda-9a59a6207/");
            console.log('Shreyans Chheda!');
          }
          if (linkId === 'link3') {
            shell.openExternal("https://www.linkedin.com/in/devanshusawant/");
            console.log('Devanshu Sawant!');
          }
        }

        function attachPopoverEventListeners() {
          var popoverContainer = document.querySelector('.popover-body');
          if (popoverContainer) {
            popoverContainer.addEventListener('click', function(event) {
              if (event.target.classList.contains('popover-link')) {
                var linkId = event.target.id;
                handlePopoverLinkClick(linkId);
              }
            });
          } else {
            setTimeout(attachPopoverEventListeners, 100);
          }
        }

        attachPopoverEventListeners();
      });
      
      function openHistoryFolder() {
        historyFolder = localStorage.getItem("historyFolder");
        shell.openExternal(`file://${historyFolder}`);

        var fileOpenButton = document.getElementById("file-open-button");
        fileOpenButton.innerHTML =
          ' Stitching History Folder <i class="bi bi-folder-check"></i>';
        setTimeout(function () {
          fileOpenButton.innerHTML =
            ' Stitching History Folder <i class="bi bi-clock-history"></i>';
        }, 1000);
      }

      function openSMTLink() {
        shell.openExternal("https://www.smt.co.in/");
      }

      function openSAKECLink() {
        shell.openExternal("https://www.sakec.ac.in/");
      }

    </script>
  </body>
</html>
